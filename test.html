<!DOCTYPE html>
<html>
    <head>
        <meta charset="gbk"/>
        <title>HexJS Test</title>
        <link href="http://static.c.aliimg.com/css/lib/fdev-v4/core/fdev-float.css" rel="stylesheet"/>
        <script src="http://static.c.aliimg.com/js/lib/fdev-v4/core/fdev-min.js"></script>
        <script src="http://static.c.aliimg.com/js/lib/fdev-v4/widget/util/debug-min.js"></script>
        <script src="hex.js"></script>
        <script>
        (function( $, hexjs ){
            var define = hexjs.define,
                register = hexjs.register;
            
            var a = 'ccccc';
            var log = console.info;
            
            define( 'bb', function( require, exports ){
                exports.b = 'bbbb';
            } );
            
            define( 'aa', function( require, exports ){
                var b = require('bb');
                exports.a = 'aaaa'+b.b;
            } );
            
            define( 'cc', function( require, exports ){
                var aa = require('aa');
                exports.a = 'ccacca';
                return {
                    a: 'accacc'+a,
                    b: aa.a
                }
            } );
            
            define( 'test', function( require ){
                var cc = require('cc');
                log( 'cc.a: ' + cc.a + ' accaccccccc');
                log( 'cc.b: ' + cc.b + ' aaaabbbb' );
            } );
            
            register( 'test' );
            
            define(function(){log('anonymous3');}).register();
            define(function(){log('anonymous2');}).register('~');
            define(function(){log('anonymous1');}).register();
            
            define( 'dd', function( require, exports ){
                var bb = require('bb');
                log( bb.b );
            } );
            
            register('dd');
            
        })( jQuery, hexjs );
        </script>
    </head>
    <body>
    </body>
</html>
