<!DOCTYPE html>
<html>
    <head>
        <meta charset="gbk"/>
        <title>HexJS Test</title>
        <script src="http://static.c.aliimg.com/js/lib/fdev-v4/core/fdev-min.js"></script>
        <script src="hex.js"></script>
        <script src="test.js"></script>
        <script>
        (function( $, define, register ){
            
            register('register-ready');
            
            define(function(require){
                require('register-now');
            }).register('~');
            
            define(function(require){
                require('require').print( require('register-now').isNow, 'register-now');
            }).register();
            
            register( ['register-multi-a','register-multi-b','register-multi-c'] );
            
            define(function(require){
                require('require').print( true, 'require');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('require-refresh').variable !== require('require-refresh',true).variable, 'require-refresh' );
            }).register();
            
            define(function(require){
                require('hexjs-test').print( require('exports').variable === 'exports', 'exports');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('return').variable === 'return', 'return');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('return-cover-exports').variable === 'return-cover-exports', 'return-cover-exports');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('module-exports').variable === 'module-exports', 'module-exports');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('incoming-object').variable === 'incoming-object', 'incoming-object');
            } ).register();
            
            define(function(require){
                require('hexjs-test').print( require('module-id').id === 'module-id', 'module-id');
            } ).register();
            
            define(function(require, exports, module ){
                require('module-constructor');
                require('hexjs-test').print( module.getId() === 'module-constructor', 'module-constructor');
            } ).register();
            
            /*
            define(function(require){
                var a = require('require-refresh');
                var b = a.variable;
                $('#a').click(function(){console.info(a.variable);});
                $('#b').click(function(){console.info(b);});
                $('#c').click(function(){require('require-refresh',true);});
                $('#d').click(function(){console.info(require('require-refresh').variable)});
            }).register();
            */
        })( jQuery, hexjs.define, hexjs.register );
        </script>
    </head>
    <body style="width:800px;margin:0 auto;">
        <h1>HexJS Test</h1>
        <ul id="test-result">
            
        </ul>
    </body>
</html>
