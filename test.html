<!DOCTYPE html>
<html>
    <head>
        <meta charset="gbk"/>
        <title>HexJS Test</title>
        <script src="http://static.c.aliimg.com/js/lib/fdev-v4/core/fdev-min.js"></script>
        <script src="hex.js"></script>
        <script>
            hexjs.define( 'test', function( require, exports ){
                var $result = jQuery('#test-result');
                
                var createItem = function( inner ){
                    return jQuery('<li/>').html(inner).appendTo($result);
                };
                
                exports.print = function( message ){
                    createItem( message );
                };
            } );
            
            hexjs.define( 'a', function( require, exports, module ){
                exports.variable = 'string a';
            } );
            
            hexjs.define( 'b', function( require, exports, module ){
                exports.variable = 'string b';
            } );
            
            hexjs.define(function( require ){
                var test = require('test'), a;
                if ( true ){
                    a = require('a');
                } else {
                    a = require('b');
                }
                test.print(a.variable);
            }).register();
        </script>
    </head>
    <body style="width:800px;margin:0 auto;">
        <h1>HexJS Test</h1>
        <ul id="test-result">
            
        </ul>
        <script src="http://static.edgar.im/app/ga/org.js"></script>
    </body>
</html>
