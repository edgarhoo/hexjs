// HexJS v0.3 http://hexjs.edgarhoo.org/ MIT
(function(m,s){var p={},j={},l={},o={},f={},q=[],k=m.location.search.indexOf("hexjs.debug=true")>-1;_toString={}.toString;j.now=Date.now||function(){return new Date().getTime();};j.isFunction=function(t){return _toString.call(t)==="[object Function]";};j.isArray=Array.isArray||function(t){return _toString.call(t)==="[object Array]";};j.forEach=Array.prototype.forEach?function(t,u){t.forEach(u);}:function(t,w){for(var v=0,u=t.length;v<u;v++){w(t[v]);}};l.extend=function(u,v){if(v===undefined){return;}for(var t in v){if(v[t]!==undefined){u[t]=v[t];}}};p.isReady=0;p.isBind=0;p.readyList=[];p.testEl=s.documentElement;p.readyInit=function(){p.isReady=1;if(!s.body){setTimeout(arguments.callee,10);return;}for(var u=0,t=p.readyList.length;u<t;u++){p.readyList[u]();}p.readyList=[];};p.bindReady=function(){if("complete"===s.readyState){p.readyInit();}else{if(s.addEventListener){s.addEventListener("DOMContentLoaded",function(){s.removeEventListener("DOMContentLoaded",arguments.callee,false);p.readyInit();},false);m.addEventListener("load",p.readyInit,false);}else{if(s.attachEvent){s.attachEvent("onreadystatechange",function(){if("complete"===s.readyState){s.detachEvent("onreadystatechange",arguments.callee);p.readyInit();}});m.attachEvent("onload",p.readyInit);if(p.testEl.doScroll&&m==m.top){p.doScrollCheck();}}}}};p.doScrollCheck=function(){if(p.isReady){return;}try{p.testEl.doScroll("left");}catch(t){setTimeout(p.doScrollCheck,1);return;}p.readyInit();};l.ready=function(t){p.readyList.push(t);if(p.isReady){t();}else{if(!p.isBind){p.isBind=1;p.bindReady();}}};p.messageList=[];p.messageBox=null;p.prepared=false;p.createMessage=function(u){var t=s.createElement("li");"warn"===u.type?t.style.color="red":t.style.color="#000";t.innerHTML=u.message;p.messageBox.appendChild(t);};p.messagePrepare=function(){l.ready(function(){var t=s.createElement("div");t.id="hexjs-debug";t.style.margin="10px 0";t.style.border="1px dashed red";t.style.padding="4px 8px";t.style.fontSize="14px";t.style.lineHeight="1.5";t.style.textAlign="left";s.body.appendChild(t);p.messageBox=s.createElement("ol");p.messageBox.style.listStyleType="decimal";t.appendChild(p.messageBox);j.forEach(p.messageList,function(u){p.createMessage(u);});});p.prepared=true;};l.console=function(v,t){var u={message:v,type:t};!p.prepared&&p.messagePrepare();p.messageBox?p.createMessage(u):p.messageList.push(u);};var i=function(u,t){if(!!m.console){i=function(w,v){m.console[v](w);};}else{i=function(w,v){l.console(w,v);};}i(u,t);};var g=function(u,t){this.id=u;this.factory=t;this.exports={};this.clone=function(){};this.once=false;};var d=function(w,t){var v,u;if("string"!==typeof w){t=w;w="";}if(f[w]){k&&i(j.now()+': the module "'+w+'" already exists. ',"warn");return null;}if(j.isFunction(t)){t={init:t};}v=new g(w,t);if(w!==""){f[w]=v;}else{u=q.length;v._idx=u;q[u]=v;return new b(u);}};var e=function(x,v){var t=arguments,w,u;if(j.isArray(x)){j.forEach(x,function(y){t.callee(y);});return;}w=x.split("~");if(w.length===1){x=w[0];u=true;}else{x=w[1];}if(!v||!(v instanceof g)){v=f[x];}if(!v||v.once){return null;}v.once=true;u?l.ready(function(){n(v,"register","after ready");}):n(v,"register","now");};var c=function(t){e.call(null,t);};var b=function(t){this.idx=t;};b.prototype.register=function(t){var u=t==="~"?"~":"";e.call(null,u,q[this.idx]);};var a=function(v,u){var t=f[v];if(!t){return;}if(!t.once||u){t.once=true;n(t,"require");}return new t.clone();};var h=function(){function t(v,u){return a.call(null,v,u);}return t;};var n=function(w,x,t){try{if(j.isFunction(w.factory.init)){var u=w.factory.init(h(),w.exports,w);l.extend(w.exports,u);}else{if(w.factory!==undefined){w.exports=w.factory;}}w.clone.prototype=w.exports;if(k){var v=j.now();if(""===w.id){i(v+": the module anonymous_"+w._idx+" registered. "+t+" execute.","info");return;}"register"===x?i(v+': the module "'+w.id+'" registered. '+t+" execute.","info"):i(v+': the module "'+w.id+'" required.',"info");}}catch(y){if(k){var v=j.now();if(""===w.id){i(v+": the module anonymous_"+w._idx+" failed to register. "+t+" execute.","warn");return;}"register"===x?i(v+': the module "'+w.id+'" failed to register.',"warn"):i(v+': the module "'+w.id+'" failed to require.',"warn");}}};p._hexjs=m.hexjs;p._define=m.define;p._register=m.register;var r=function(t){switch(t){case true:m.define=p._define;m.register=p._register;break;case false:m.define=d;m.register=c;break;case undefined:default:if(m.hexjs===o){m.hexjs=p._hexjs;}break;}return o;};o.define=d;o.register=c;o.noConflict=r;o.version="0.3";m.hexjs=o;})(this,document);
